üìå **Current Version**
* **Version:** v0.4.0 (In Development)
* **Release date:** 2025-??-??

---

üöß **Active Work in Progress**
* **Manufacturing Calendar Overhaul & Bug Fix:**
    * **Objective:** Fix the non-interactive calendar and implement a modern, modal-based event creation system. This is the top priority as it blocks a critical user workflow.
    * **Task 1 (Bug Fix):** Implement on-click functionality for any day on the calendar to open a new "Add Event" modal.
    * **Task 2 (New Feature):** Within the new modal, provide categorized event options (Manufacturing, Shipping, Administrative, etc.) and fields for event details and optional notes.
    * **Task 3 (UI Cleanup):** Remove the old, separate manual entry section at the bottom of the calendar view.

---

üß™ **Testing Focus**
* Verify that clicking any day on the Manufacturing Calendar opens the "Add Event" modal.
* Confirm that events can be created, edited, and deleted successfully.
* Ensure the "Blood Ship Date" and "Blood Arrival Date" events function correctly, as this is critical for the optimization engine.

---

‚úÖ **Recent Completions**
* Future Specs optimization algorithm implemented.
* Future Specs display initialization bug fixed.
* Antigen/antibody format migration for legacy data completed.
* Data persistence for Quantities CSV.
* Blank specification handling (blank = "ANY type acceptable").
* PT-to-PT event sharing implemented.
* Allocation ledger system introduced.

---

üîú **Next Planned Work**

**Priority 0: Foundational Changes**
* **(In Progress)** Fix & Overhaul Manufacturing Calendar.
* **Implement Shipment Tracking:** Add "Blood Ship Date" and "Blood Arrival Date" to the new calendar system to enable physical availability checks for the optimization engine.

**Priority 1: UI/UX & Structural Reorganization**
* **Remove Redundant Modals:**
    * Master Schedule
    * Specifications Generator
    * Other Raw Materials
* **Rename & Relocate Modals:**
    * Rename "Specifications" to **"Historical Specifications."**
    * Move "Future Specifications" to the **"Analysis"** section.
* **Implement Annual Spec Migration:** Create an automated process to move specs from "Future" to "Historical" on January 1st of each year.

**Priority 2: New Module Development**
* **Enhance Historical Quantities:** Add UI for both manual data entry and CSV upload.
* **Build Vendors Module:** Develop the placeholder to manage non-blood suppliers (reagents, materials) with contact info, product lists, and pricing.
* **Create Blood Suppliers Module:** A new, dedicated modal to manage blood suppliers, including their unique and complex pricing structures.

**Priority 3: Existing Module Enhancement**
* **Implement Bulk Overage Tracking:** Build out the functionality for the "Bulk RBCs" and "Bulk Serums" modals for manual overage entry.
* **Audit & Refine Antibodies Module:** Conduct a full review and enhancement to track qualification status, cost-per-use, and optimal dilutions for different applications.

---

üóÇ **Version Changelog**

**v0.4.0 ‚Äî 2025-??-?? (In Development)**
* **Highlights:**
    * Began a major overhaul of the Manufacturing Calendar to fix critical bugs and introduce a modern, interactive event management system. This is a foundational change for future forecasting and logistics features.
* **Details:**
    * **Completed:** The Future Specs optimization algorithm has been successfully implemented and tested.
    * **Testing:**
        * ‚úÖ Optimization engine correctly identifies potential donors from inventory and standing orders.
        * ‚úÖ UI correctly displays optimization suggestions in the Future Specs panel.


v0.3.9 ‚Äî 2025-??-?? (In Development)
Highlights:
    - Began development of the Future Specs optimization algorithm.
Details:
    - Fixed: Future Specs panel now displays correctly after a page refresh, even with no entries.
    - Added: A robust data migration function to automatically convert legacy antigen/antibody and DAT status formats to the new standard upon data load.
    - Testing:
        - ‚úÖ Future Specs display persistence verified.
        - ‚úÖ Legacy data migration for customerSpecs, futureSpecs, and historical versions confirmed.
---

v0.3.8 ‚Äî 2025-??-??
Highlights:
    - Implemented allocation ledger system.
    - Added PT-to-PT sharing capability.
Introduced decision logging with Activity/Decisions tabs.
Enforced multi-unit cohort consistency.
Added year-aware BUP generation.

Details:
Fixed: Quantities CSV persistence.
Fixed: Blank specification handling (ABO/Rh/antigens = ANY when blank).
Changed: BUP output now shows ranges (min/max overage).
Added: Standing-order cell details (HQC-1, HQC-2, HQC-3).
Added: Allocation ledger with global tracking.
Added: Decision logging + audit trail.

Testing:
‚úÖ OneWorld 4th 2025 pulls from HQC-2 & HQC-3.
‚úÖ ISLA 3rd 2025 shares with HQC, Korea, OneWorld 3rd, Aurevia 2nd, API 3rd.
‚úÖ Blank ABO and Rh specs accept any blood type.
‚úÖ PT events share with each other (not themselves).
‚úÖ Allocation ledger prevents double-use.
‚úÖ Decision logging functional.

v0.3.7 ‚Äî 2025-??-??
Highlights:
Applied HQC date-finding fix to Korea, C3, and MQC standing orders.
Removed global ‚Äúfirst match‚Äù calendar searches ‚Äî ensured matches remain window-specific.

Details:
Fixed: Calendar logic now only searches within event windows.
Fixed: Date matching logic corrected for Korea, C3, MQC events.
Improved: Event search functions more reliable across schedules.

Testing:
‚úÖ Verified HQC/Korea/C3 events pull blood within allowed windows.
‚úÖ No global bleed-date assumptions remain.

v0.3.6 ‚Äî 2025-??-??
Highlights:
First critical bug-fix release addressing core platform stability.

Details:
Fixed: Quantities CSV now persists after refresh.
Fixed: Blank specifications now treated as ANY ABO/Rh/antigens.
Changed: BUP output now shows ranges (min ‚Üí max overage).
Added: Allocations specify exact standing-order cell (HQC-1, HQC-2, etc.).

Testing:
‚úÖ CSV persistence verified across refreshes.
‚úÖ Blank ABO/Rh/antigen fields tested ‚Üí accept all valid blood.
‚úÖ BUP output validated with min/max ranges.
‚úÖ Standing-order allocations labeled correctly.

v0.3.5 ‚Äî 2025-??-?? (Baseline)
Highlights:
First functional version of the Blood Optimization Platform.
Contained critical bugs requiring immediate fix in later versions.

Details:
Issue: Quantities CSV did not persist after refresh.
Issue: Blank ABO/Rh specs not handled as ‚ÄúANY acceptable.‚Äù
Issue: BUP output showed single values, not ranges.
Issue: Did not specify which standing-order cell was used.
Missing: PT-to-PT sharing ‚Äî only standing orders were checked.

Testing:
‚ùå Data persistence failed on refresh.
‚ùå Blank ABO/Rh caused rejections instead of ANY.
‚ùå BUP outputs inaccurate (single values only).

‚ùå No PT-to-PT sharing tested.
