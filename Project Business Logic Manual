Blood Optimization Platform - Business Logic & Process Manual

Version: 1.1
Date: 2025-09-26
Purpose: This document serves as the authoritative guide to the business logic, data rules, and operational processes embedded within the Hemo bioscience Blood Optimization Platform.

1. Core Temporal Logic: The Unit Lifecycle

The 77-Day Rule: An RBC unit has a maximum usable lifespan of 77 days. It expires on day 78.

Physical Availability Constraint: A unit cannot be used until its physical "Arrival Date".

True Optimization Window: The valid window to allocate a unit is between (Recipient's Expiration Date - 77 days) and (Recipient's Ship Date - 10 days). The unit's "Arrival Date" must fall within this window.

2. Blood Compatibility & Phenotype Rules

Standard Matching: Default behavior is to match ABO and Rh types exactly.

Flexible Requirements: A blank ABO/Rh or a DAT Negative requirement means "any type acceptable."

Specific Requirements:

DAT IgG Positive must be filled by an RhD Positive unit.

C3 Control can be filled by either an O Pos or O Neg unit.

Antigen Matching Logic:

Specified Antigens: The donor unit must match the required status (Positive/Negative). Any other antigens on the donor unit are irrelevant.

"As Measured" Antigens: The rule is cohort consistency. If multiple units are required, all units in that cohort must have the exact same phenotype for all "as measured" antigens.

3. Allocation & Sharing Logic

Two-Tier Priority Hierarchy: 1. Standing Orders, 2. PT Events.

Prioritization Within Tiers: The rule is temporal proximity. Prioritize the donor unit with the date closest to the start of the recipient's fulfillment window.

4. Module-Specific Processes

BUP Generator & Platform Vision: The platform is an efficiency and decision-support tool. Its outputs, including the BUP Generator, are intended to inform planning and are not part of a regulated document control process.

Future Spec Forecasting:

Sample ID Normalization: To establish a trend, the forecasting algorithm must normalize sample_ids by removing any four-digit year (e.g., 2023-AB-01 and 2024-AB-01 are treated as the same item, AB-01).

Trend Calculation: The forecast is based on the average year-over-year change from at least two historical data points for the normalized sample ID.

Bulk Overage Tracking (RBCs & Serums): Overage quantity is entered manually by the user due to variable volume loss during manufacturing.

Antibodies Module:

The cost-per-use at optimal dilution is calculated as: (Price Paid / Quantity Bought in ml) / Dilution Factor.

5. Data & Structural Logic

Future vs. Historical Specs: "Future" refers to the next calendar year; "Historical" refers to the current and all previous years.

Annual Data Migration: A user-initiated process in the Settings panel migrates "Future" specs to "Historical" specs.
